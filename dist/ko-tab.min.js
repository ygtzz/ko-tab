!function(){function o(o){var t=this;t.options=o,t.oTabItemAdd=new e(t,0,1,"&nbsp;+&nbsp;"),t.aTab=ko.observableArray([t.oTabItemAdd]),t.nCurTabIndex=ko.observable(1)}function e(o,e,t,n){var a=this;a.oTabView=o,a.nIndex=ko.observable(e),a.nType=ko.observable(t||0),a.bNavTab=ko.pureComputed(function(){return 0===a.nType()}),a.bCurrent=ko.pureComputed(function(){return a.nIndex()===o.nCurTabIndex()}),a.sTabWidth=ko.pureComputed(function(){var o=a.oTabView.aTab().length-1;return a.oTabView.options.fSetTabWidth?a.oTabView.options.fSetTabWidth(a.nIndex(),o):"80px"}),a.sNavText=ko.observable(n),a.bShowAdd=ko.pureComputed(function(){var o=a.oTabView.aTab().length-1;return a.oTabView.options.fShowAdd?a.oTabView.options.fShowAdd(o):!0}),a.bShowRemove=ko.pureComputed(function(){var o=a.oTabView.aTab().length-1;return a.oTabView.options.fShowRemove?a.oTabView.options.fShowRemove(o):!0}),a.oData={}}o.prototype.fAddTab=function(o){this.oTabItemAdd.fAddTab(null,null,o)},o.prototype.fGetCurrentData=function(){return this.aTab()[this.nCurTabIndex()-1].oData},o.prototype.fGetAllData=function(){var o=this.aTab().map(function(o){return o.oData});return o.length=o.length-1,o},e.prototype.fTabClick=function(){return this.oTabView.nCurTabIndex(this.nIndex()),this.oTabView.options.fAfterTabActive?this.oTabView.options.fAfterTabActive(this):void 0},e.prototype.fAddTab=function(o,t,n){var a=this.oTabView,i=a.aTab().length,b=new e(a,i);a.options.fDataHook&&(b.oData=a.options.fDataHook(b.nIndex())),a.options.fNavTextHook&&b.sNavText(a.options.fNavTextHook(b.nIndex())),a.aTab.splice(i-1,0,b),a.options.fAfterAddTab&&a.options.fAfterAddTab(),a.options.bActiveNew&&!n&&b.fTabClick()},e.prototype.fRemoveTab=function(o){var e=this.oTabView,t=o.nIndex(),n=e.aTab(),a=n.length;if(!e.options.fCanRemoveTab||e.options.fCanRemoveTab(a-1)){1===t?e.nCurTabIndex(a-2):t<=e.nCurTabIndex()&&e.nCurTabIndex(t-1);for(var i=t-1;a>i;i++){var b=n[i],r=b.nIndex()-1;if(b.nIndex(r),1!==b.nType()){var T=b.sNavText();b.sNavText(T.slice(0,T.length-1)+r)}}e.aTab.remove(o),e.options.fAfterRemoveTab&&e.options.fAfterRemoveTab()}},window.fKoTab=o}();